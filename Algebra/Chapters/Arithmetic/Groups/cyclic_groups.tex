\section{Generatori e gruppi ciclici}

Innanzitutto diamo una definizione generale di potenze:
\begin{definition}{Potenze intere}{potenze_intere}
    Sia $(G, \cdot)$ un gruppo e sia $g \in G$ qualsiasi. 
    
    Allora definiamo $g^k$ per $k \in \Z$ nel seguente modo: \[
        g^k \deq \begin{cases}
            e_G &\text{se } k = 0\\
            g \cdot g^{k-1} &\text{se } k > 0\\
            (g\inv)^k &\text{se } k < 0.
        \end{cases}    
    \]
\end{definition}

Se il gruppo è definito in notazione additiva, le potenze diventano prodotti per numeri interi. 

Più formalmente, se $(G, +)$ è un gruppo e $g \in G$ qualsiasi, allora definiamo $ng$ per $n \in \Z$ nel seguente modo: \[
    ng \deq \begin{cases}
        e_G &\text{se } n = 0\\
        g + (n-1)g &\text{se } n > 0\\
        (-n)(-g) &\text{se } n < 0.
    \end{cases}   
\]

Le potenze intere soddisfano alcune proprietà interessanti, verificabili facilmente per induzione, tra cui \begin{enumerate}[label={(P\arabic*)}, ref={(P\arabic*)}]
    \item per ogni $n, m \in \Z$ vale che $g^mg^n = g^{n+m}$,
    \item per ogni $n, m \in \Z$ vale che ${(g^n)}^m = g^{nm}$.
\end{enumerate}

\begin{definition}
    {Sottogruppo generato}{sgr_generato}
    Sia $(G, \cdot)$ un gruppo e sia $g \in G$.
    Si dice \emph{sottogruppo generato da $g$} l'insieme \[
        \gen{g} \deq \set*{g^k \given k \in \Z}.    
    \]
\end{definition}

\begin{proposition}
    {Il sottogruppo generato è un sottogruppo abeliano}{sgr_generato_è_sgr}
    Sia $(G, \cdot)$ un gruppo e sia $g \in G$ qualsiasi. Allora $\gen{g} \sgr G$. Inoltre $\gen{g}$ è abeliano.
\end{proposition}
\begin{proof}
    Innanzitutto notiamo che $\gen{g} \neq \varnothing$ in quanto $g \in \gen{g}$. Mostriamo che $\gen{g}$ è un sottogruppo indotto da $G$.

    \begin{enumerate}[label={(\roman*)}]
        \item Se $g^n, g^m \in \gen{g}$ allora $g^ng^m = g^{n+m} \in \gen{g}$ in quanto $n+m \in \Z$;
        \item Sia $g^n \in \gen{g}$. Per definizione di potenza, $g^{-n}$ è l'inverso di $g^n$ e $g^{-n} \in \gen{g}$ in quanto $-n \in \Z$. 
    \end{enumerate}

    Dunque per la \Cref{prop:cond_sgr} segue che $\gen{g} \sgr G$.

    Inoltre notiamo che dati $g^n, g^m \in \gen{g}$ qualsiasi si ha \[
        g^ng^m = g^{n+m} = g^{m+n} = g^mg^n    
    \] dunque $\gen{g}$ è abeliano.
\end{proof}

Notiamo che, al contrario di quanto succede con i numeri interi, può succedere che $g^h = g^k$ per qualche $h \neq k$.

Supponiamo senza perdita di generalità $k > h$. In tal caso \begin{align*}
    g^{k-h} &= e_G\\
    \implies g^{k-h+1} &= g^{k-h} \cdot g\\
    &= e_G \cdot g\\
    &= g.
\end{align*}
Dunque il sottogruppo generato da $g$ non è infinito, ovvero \[
    \abs[\big]{\gen*{g}} < +\infty.    
\]

Questo ci consente di parlare di ordine di un elemento di un gruppo.

\begin{definition}
    {Ordine di un elemento di un gruppo}{ord_grp}
    Sia $(G, \cdot)$ un gruppo e sia $x \in G$.

    Allora si dice ordine di $x$ in $G$ il numero \[
        \ord_{G}{x} \deq \min\set*{k > 0 \given x^k = _Ge}.    
    \]

    Se l'insieme $\set*{k > 0 \given x^k = e_G}$ è vuoto, allora per definizione \[
        \ord_{G}{x} \deq +\infty.
    \]
\end{definition}

Quando il gruppo di cui stiamo parlando sarà evidente scriveremo semplicemente $\ord{x}$.

\begin{proposition}
    {Scrittura esplicita del sottogruppo generato}{sgr_generato}
    Sia $(G, \cdot)$ un gruppo e sia $x \in G$ tale che $\ord_{G}{x} = d < +\infty$. 
    Valgono i seguenti due fatti:
    \begin{enumerate}[label={(\roman*)}]
        \item \label{prop:sgr_generato:expr} Il sottogruppo generato $\gen{x}$ è \[
            \gen{x} = \set*{e, x, x^2, \dots, x^{d-1}}.    
        \] Dunque in particolare $\abs[\big]{\gen* x} = d$.
        \item \label{prop:sgr_generato:ord_div_n} $x^n = e_G$ se e solo se $d \divides n$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Dimostriamo le due affermazioni separatamente. 
    
    \newthought{Parte 1} Sicuramente vale che \[
        \set*{e, x, \dots, x^{d-1}} \subseteq \gen{x}.    
    \] Dimostriamo che vale l'uguaglianza.

    Sia $k \in \Z$ qualsiasi. Allora $x^k \in \gen x$. 
    
    Dimostriamo che necessariamente $x^k \in \set*{e, x, \dots, x^{d-1}}$.

    Per la divisione euclidea esisteranno $q, r \in \Z$ tali che \begin{align*}
        k = qd + r
    \end{align*} con $0 \leq r < d$. Allora sostituendo $k = qd+r$ otteniamo \begin{align*}
        x^k &= x^{qd + r}\\
        &= x^{qd}x^r\\
        &= e^qx^r\\
        &= x^r.
    \end{align*}
    
    Per ipotesi $0 \leq r < d$, dunque $x^r \in \set*{e, x, \dots, x^{d-1}}$. Dato che $x^r = x^k$ concludiamo che \[
        x^k \in \set*{e, x, \dots, x^{d-1}}    
    \] e quindi \[
        \gen x = \set*{e, x, \dots, x^{d-1}}.    
    \]

    Ci rimane da mostrare che $\abs[\big]{\gen* x} = d$, ovvero che tutti gli elementi di $\gen x$ sono distinti. 

    Supponiamo per assurdo che esistano $a, b \in \Z$ con $0 \leq a < b < d$ (senza perdita di generalità) tali che $x^a = x^b$.

    Da questo segue che $x^{b-a} = e_G$, ma questo è assurdo poichè $b-a < d$ e per definizione l'ordine è il minimo numero positivo per cui $x^d = e_G$.

    Di conseguenza tutti gli elementi di $\gen x$ sono distinti, ovvero $\abs[\big]{\gen* x} = d$.

    \newthought{Parte 2.} Dimostriamo entrambi i versi dell'implicazione.
    \begin{description}
        \item[\boximpl ] Sia $n \in \Z$ tale che $x^n = e$.
        
        Per divisione euclidea esistono $q, r \in \Z$ tali che \begin{align*}
            n = qd + r
        \end{align*} con $0 \leq r < d$.

        Dunque $x^n = x^{qd+r} = x^r = e$. Ma questo è possibile solo se $r = 0$, altrimenti andremmo contro la minimalità dell'ordine.
        
        Dunque $x = qd$, ovvero $d \divides n$.
        \item[\boximplby] Ovvia: se $n = kd$ per qualche $k \in \Z$ allora \[
            x^n = x^{kd} = (x^d)^k = e^k = e.\qedhere    
        \]
    \end{description}
\end{proof}

\begin{definition}
    {Gruppo ciclico}{grp_ciclico}
    Sia $(G, \cdot)$ un gruppo. 
    Allora $G$ si dice \emph{ciclico} se esiste un $g \in G$ tale che \[
        G = \gen{g}.    
    \]
    L'elemento $g$ viene detto \emph{generatore} del gruppo $G$.
\end{definition}

Ad esempio $\Z$ è un gruppo ciclico, in quanto $\Z = \gen{1}$, come lo è $n\Z = \gen n$. Questi due gruppi sono anche infiniti, in quanto contengono un numero infinito di elementi.

Un esempio di gruppo ciclico finito è $\Zmod{n} = \gen{[1]_n}$, che è finito in quanto $\ord[\Zmod{n}]{[1]_n} = n$.

\begin{theorem}
    {Ogni sottogruppo di un gruppo ciclico è ciclico} {sottogr_ciclico}
    Sia $(G, \cdot)$ un gruppo ciclico, ovvero $G = \gen{g}$ per qualche $g \in G$ e sia $H \sgr G$ un suo sottogruppo.
    Allora $H$ è ciclico, ovvero esiste $h \in \Z$ tale che $H = \gen*{g^h}$.
\end{theorem}
\begin{proof}
    Innanzitutto notiamo che $e_G \in H$. 
    
    Se $H = \set*{e_G}$ allora $H$ è ciclico, e $H = \gen{e_G}$.

    Assumiamo $\set*{e_G} \subset H$. Allora esiste $k \in \Z$, $k \neq 0$ tale che $g^k \in H$. 
    Dato che se $g^k \in H$ allora $g^{-k} \in H$ possiamo supporre senza perdita di generalità $k > 0$.

    Consideriamo l'insieme $S$ tale che \[
        S \deq \set*{h > 0 \given g^h \in H} \subseteq \N.    
    \] Avendo assunto $k \in S$ sappiamo che $S \neq \varnothing$, dunque per il principio del minimo $S$ ammette minimo.

    Sia $h_0 = \min S$. Mostro che $H = \gen*{g^{h_0}}$.
    \begin{description}
        \item[($H \supseteq \gen*{g^{h_0}}$)] Per ipotesi $g^{h_0} \in H$. 
        
        Dato che $H$ è un sottogruppo di $G$ tutte le potenze intere di $g^{h_0}$ dovranno appartenere ad $H$, ovvero $\gen*{g^{h_0}} \subseteq H$.
        \item[($H \subseteq \gen*{g^{h_0}}$)] Sia $n \in \N$ tale che $g^n \in H$. Dimostriamo che $g^n \in \gen*{g^{h_0}}$.
        
        Per divisione euclidea esistono $q, r \in \Z$ tali che \begin{align*}
            n = qh_0 + r
        \end{align*} con $0 \leq r < h_0$.
        Dunque dovrà valere che\begin{align*}
            g^n &= g^{qh_0 + r}\\
                &= g^{qh_0}g^r.
        \end{align*}
        Moltiplicando entrambi i membri per $g^{-qh_0}$ otteniamo \[
            \iff g^ng^{-qh_0} = g^r.
        \]

        Ma $g^n \in H$ e $g^{-qh_0} \in H$ (in quanto è una potenza intera di $g^{h_0}$), dunque anche il loro prodotto $g^ng^{-qh_0} = g^r$ dovrà essere un elemento di $H$..

        Se $r > 0$ allora esisterebbe una potenza di $g$ con esponente positivo minore di $h_0$ contenuto in $H$, che è assurdo in quanto abbiamo assunto che $h_0$ sia il minimo dell'insieme $S$.
        
        Segue che $r = 0$, ovvero $n = qh_0$, ovvero che $g^n \in \gen*{g^{h_0}}$, ovvero $H \subseteq \gen*{g^{h_0}}$.
    \end{description}

    Concludiamo quindi che $H = \gen*{g^{h_0}}$, ovvero $H$ è ciclico.
\end{proof}

Consideriamo i sottogruppi di $\Z$. Tramite la \Cref{prop:nZ_sgr_Z} abbiamo dimostrato che per ogni $n \in \Z$ segue che $n\Z \sgr \Z$. La prossima proposizione mostra che i sottogruppi della forma $n\Z = \gen{n}$ sono gli unici possibili.

\begin{proposition}
    {Caratterizzazione dei sottogruppi di $\Z$}{sgr_Z}
    I sottogruppi di $\Z$ sono tutti e solo della forma $n\Z$ al variare di $n \in \N$.
\end{proposition}
\begin{proof}
    Nella \Cref{prop:nZ_sgr_Z} abbiamo mostrato che $n\Z \sgr \Z$ per ogni $n \in \Z$. Ora mostriamo che è sufficiente considerare $n \in \N$ e che questi sono gli unici sottogruppi possibili.

    Dato che $\Z$ è ciclico (poiché $\Z = \gen{1}$) per il \Cref{th:sottogr_ciclico} ogni suo sottogruppo dovrà essere ciclico, ovvero dovrà essere della forma $\gen{n} = n\Z$ per qualche $n \in \Z$.

    Per la \Cref{cor:nZ_mZ:eq} sappiamo che $n\Z = (-n)\Z$, dunque possiamo considerare (senza perdita di generalità) $n$ positivo o nullo, ovvero $n \in \N$.

    Segue quindi che i sottogruppi di $\Z$ sono tutti e solo della forma $n\Z$ al variare di $n \in \N$.
\end{proof}


\subsection{Il gruppo ciclico $\Zmod{n}$}

In questa sezione analizzeremo il gruppo ciclico $(\Zmod{n}, +)$, anche dato da da \[
    \Zmod{n} = \gen*{\eqcl{1}_{n}} = \gen*{\eqcl+ 1}.
\]

L'ordine di $\eqcl+ 1$ in $\Zmod{n}$ è $n$. Infatti \begin{align*}
    &x\cdot \eqcl+ 1 = \eqcl+ 0\\
    \iff &x \congr 0 \Mod n \\
    \iff &x = nk
\end{align*}
con $k \in \Z$. 
La minima soluzione positiva a quest'equazione è per $k = 1$, dunque $x = n$. 
Per la proposizione \Cref{prop:sgr_generato:expr} sappiamo quindi che \begin{equation} \label{eq:card_Z/nZ}
    \card[\big]{\Zmod{n}} = \card[\big]{\eqcl+ 1} = \ord[\Zmod{n}]{\eqcl+ 1} = n.
\end{equation}

\begin{proposition}
    {Ordine degli elementi di $\Zmod n$}{ord_in_Z/nZ}
    Sia $\eqcl+ a \in \Zmod n$ qualsiasi. Allora vale che \[
        \ord{\eqcl+ a} = \frac{n}{\gcd{a, n}}    
    \] dove $a \in \Z$ è un rappresentante della classe $\eqcl+ a$.
\end{proposition}
\begin{proof}
    Per definizione di ordine \[
        \ord{\eqcl+ a} = \min \set*{k > 0 \given k \eqcl+ a = \eqcl+ 0}.    
    \]

    Si tratta quindi di trovare la minima soluzione positiva di $ax \congr 0 \Mod{n}$. Dividendo entrambi i membri e il modulo per $a$, ottenendo \[
        x \congr 0 \Mod{\frac{n}{\gcd{n, a}}} \implies x = \frac{n}{\gcd{n, a}}t    
    \] al variare di $t \in \Z$. 

    La minima soluzione positiva è ottenuta per $t = 1$, da cui segue che \[
        \ord{\eqcl+ a} = \frac{n}{\gcd{n, a}}. \qedhere    
    \]
\end{proof}

\begin{corollary}
    {Conseguenze della \Cref{prop:ord_in_Z/nZ}}
    {cons_ord_in_Z/nZ}
    Consideriamo il gruppo $(\Zmod n, +)$. Valgono le seguenti affermazioni:
    \begin{enumerate}[label={(\roman*)}]
        \item \label{cor:cons_ord_in_Z/nZ:ord_a_div_n} Per ogni $\eqcl+{a} \in \Zmod{n}$ vale che $\ord{\eqcl+ a} \divides n$.
        \item \label{cor:cons_ord_in_Z/nZ:phi(n)_gen} $\Zmod{n}$ ha $\eulerphi(n)$ generatori.
        \item \label{cor:cons_ord_in_Z/nZ:phi(d)_el} Sia $d \in \Z$ tale che $d \divides n$. Allora in $\Zmod{n}$ ci sono esattamente $\eulerphi(d)$ elementi di ordine $d$.
    \end{enumerate}
\end{corollary}
\begin{proof}
    Dimostriamo separatamente le tre affermazioni.
    \begin{enumerate}[label={(\roman*)}]
        \item Ovvia in quanto (per la \Cref{prop:ord_in_Z/nZ}) \[
            \ord{\eqcl+ a} = \dfrac{n}{\gcd{n, a}} \divides n.
        \]
        \item Sia $\eqcl+ x \in \Zmod{n}$. Sappiamo che $\eqcl+ x$ è un generatore di $\Zmod{n}$ se \[
            \gen*{\eqcl+ x} = \Zmod n    
        \] ovvero se la cardinalità di $\gen*{\eqcl+ x}$ è $n$.

        Per la proposizione \Cref{prop:ord_in_Z/nZ} $\ord{\eqcl+ x} = \dfrac{n}{\gcd{n, x}}$, dunque $\eqcl+ x$ è un generatore se e solo se $\gcd{n, x} = 1$, ovvero se $x$ è coprimo con $n$.

        Ma ci sono $\eulerphi(n)$ numeri coprimi con $n$, dunque ci sono $\eulerphi(n)$ generatori di $\Zmod n$.
        \item Sia $\eqcl+ a \in \Zmod n$ tale che \[
            \ord{\eqcl+ a} = \frac{n}{\gcd{n, a}} = d.    
        \]

        Allora $\gcd{n, a} = \nicefrac{n}{d}$, da cui segue che $\nicefrac{n}{d} \divides a$.

        Sia $b \in \Z$ tale che $a = \nicefrac{n}{d}b$. Dato che $\gcd{n, a} = \nicefrac{n}{d}$ segue che \begin{align*}
            &\gcd*{n, \frac{n}{d}b} = \frac{n}{d}\\[3pt]
            \iff &\gcd*{\frac{n}{d}d, \frac{n}{d}b} = \frac{n}{d}\\[3pt]
            \iff &\frac{n}{d}\gcd{d, b} = \frac{n}{d}\\[3pt]
            \iff &\gcd{d, b} = 1
        \end{align*}
        ovvero se e solo se $d$ e $b$ sono coprimi.

        Dunque segue che ci sono $\eulerphi(d)$ scelte per $b$, ovvero esistono $\eulerphi(d)$ elementi di ordine $d$.
    \end{enumerate}
\end{proof}

Questo corollario ci consente di enunciare una proprietà della funzione $\eulerphi$.

\begin{corollary}
    {Espressione per $n$ in termini della funzione di Eulero}
    {n=sum_phi(d)}
    Sia $n \in \Z$. Allora vale che \[
        n = \sum_{d \divides n} \eulerphi(d).    
    \]
\end{corollary}
\begin{proof}
    Sia $X_d$ l'insieme \[
        X_d \deq \set*{\eqcl+ a \in \Zmod n \given \ord{\eqcl+ a} = d}.    
    \]
    Se $d \ndivides n$ per il \Cref{cor:cons_ord_in_Z/nZ} (in particolare per il primo punto) segue che $X_d = \varnothing$.

    Si ha quindi che \[
        \Zmod n = \bigsqcup_{d \divides n} X_d.  
    \] Per il \Cref{cor:cons_ord_in_Z/nZ} (in particolare per il terzo punto) sappiamo che $\abs{X_d} = \eulerphi(d)$, dunque passando alle cardinalità segue che \[
        \abs[\big]{\Zmod n} = n = \sum_{d \divides n} X_d. \qedhere
    \]
\end{proof}

Studiamo ora i sottogruppi di $\Zmod{n}$.

\begin{proposition}
    {Caratterizzazione dei sottogruppi di $\Zmod{n}$}{sgr_Z/nZ}
    Valgono i seguenti due fatti:
    \begin{enumerate}[label={(\roman*)}]
        \item \label{prop:sgr_Z/nZ:ciclico_ord_d} Sia $H \sgr \Zmod{n}$. Allora $H$ è ciclico e $\abs{H} = d$ per qualche $d \divides n$.
        \item \label{prop:sgr_Z/nZ:unosolo_ord_d} Sia $d \in \Z, d \divides n$. $\Zmod{n}$ ammette uno e un solo sottogruppo di ordine $d$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Dimostriamo separatamente le due affermazioni.
    \begin{enumerate} [label={(\roman*)}]
        \item Sia $H \sgr \Zmod n$; per il \Cref{th:sottogr_ciclico} sappiamo che $H$ deve essere ciclico, ovvero $H = \gen*{\eqcl+ h}$ per qualche $\eqcl+ h \in \Zmod n$.
        
        Sia $d = \ord{\eqcl+ h}$. Allora per il \Cref{cor:cons_ord_in_Z/nZ} (in particolare per il primo punto) segue che \[
            \abs{H} = \ord{\eqcl+ h} = d \divides n.   
        \]
        \item Sia $H_d$ l'insieme \[
            H_d = \set*{\eqcl+ 0,\; \eqcl+{\frac{n}{d}},\; 2\eqcl+{\frac{n}{d}}, \dots,\; (d-1)\eqcl+{\frac{n}{d}}}.    
        \] Mostriamo innanzitutto che $H_d = \gen*{\eqcl+{\frac{n}{d}}}$.
        
        Infatti ovviamente $H_d \subseteq \gen*{\eqcl+{\frac{n}{d}}}$. Per mostrare che sono uguali basta notare che \[
            \abs*{\gen*{\eqcl+{\frac{n}{d}}}} = 
            \ord*{\eqcl+{\frac{n}{d}}} = 
            \frac{n}{\gcd*{\frac{n}{d}, n}} = 
            \frac{n}{\gcd*{\frac{n}{d}, \frac{n}{d} \cdot d}} = 
            \frac{n}{\frac{n}{d}\gcd{1, d}} = 
            d
        \] dunque i due insiemi sono finiti, hanno la stessa cardinalità e il primo è incluso nel secondo, da cui segue che sono uguali.

        Sia ora $H \sgr \Zmod n$ tale che $\abs{H} = d$. Per il \Cref{th:sottogr_ciclico} segue che $H = \gen*{\eqcl+ x}$ per qualche $\eqcl+ x \in \Zmod n$ tale che $\ord{\eqcl+ x} = d$.

        Seguendo la dimostrazione del terzo punto del \Cref{cor:cons_ord_in_Z/nZ} possiamo scrivere $\eqcl+ x = \eqcl+{\frac{n}{d}}b$ con $b \in zZ$ tale che $\gcd{b, d} = 1$.

        Ma $H_d = \gen*{\eqcl+{\frac{n}{d}}}$ contiene tutti i multipli di $\eqcl+{\frac{n}{d}}$, dunque deve contenere anche $\eqcl+ x$.

        Dunque dato che $\eqcl+ x \in H_d$ segue che $H = \gen*{\eqcl+ x} \subseteq H_d$. Ma gli insiemi $H$ e $H_d$ hanno la stessa cardinalità, dunque $H = H_d$, ovvero vi è un solo sottogruppo di ordine $d$. \qedhere
    \end{enumerate}
\end{proof}
